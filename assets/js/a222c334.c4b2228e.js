"use strict";(globalThis.webpackChunkhumanoid_robotics_book=globalThis.webpackChunkhumanoid_robotics_book||[]).push([[5025],{3040:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"robotic-nervous-system/04-building-packages","title":"Building Packages with Colcon","description":"4.1 Overview","source":"@site/docs/01-robotic-nervous-system/04-building-packages.md","sourceDirName":"01-robotic-nervous-system","slug":"/robotic-nervous-system/04-building-packages","permalink":"/hackathon-1/docs/robotic-nervous-system/04-building-packages","draft":false,"unlisted":false,"editUrl":"https://github.com/FareaaFaisal/hackathon-1/edit/main/docs/01-robotic-nervous-system/04-building-packages.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"04-building-packages","title":"Building Packages with Colcon","sidebar_label":"Building Packages"},"sidebar":"tutorialSidebar","previous":{"title":"Installing ROS 2","permalink":"/hackathon-1/docs/robotic-nervous-system/03-installing-ros"},"next":{"title":"Humanoid Communication","permalink":"/hackathon-1/docs/robotic-nervous-system/05-humanoid-communication"}}');var i=s(4848),a=s(8453);const c={id:"04-building-packages",title:"Building Packages with Colcon",sidebar_label:"Building Packages"},o="Chapter 4: Building Packages with Colcon",l={},t=[{value:"4.1 Overview",id:"41-overview",level:2},{value:"4.2 ROS 2 Package Structure",id:"42-ros-2-package-structure",level:2},{value:"4.3 Creating a ROS 2 Package:",id:"43-creating-a-ros-2-package",level:2},{value:"4.4 Building a ROS 2 Package:",id:"44-building-a-ros-2-package",level:2},{value:"4.5 Running the Nodes:",id:"45-running-the-nodes",level:2},{value:"4.6 Summary",id:"46-summary",level:2},{value:"4.7 Learning Outcomes",id:"47-learning-outcomes",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"chapter-4-building-packages-with-colcon",children:"Chapter 4: Building Packages with Colcon"})}),"\n",(0,i.jsx)(n.h2,{id:"41-overview",children:"4.1 Overview"}),"\n",(0,i.jsxs)(n.p,{children:["In ROS 2, ",(0,i.jsx)(n.strong,{children:"code is organized into packages"}),". A package is a directory containing a collection of related files such as source code, launch files, configuration files, and the ",(0,i.jsx)(n.code,{children:"package.xml"})," file. The ",(0,i.jsx)(n.code,{children:"package.xml"})," contains metadata about the package, including its name, version, dependencies, and build instructions."]}),"\n",(0,i.jsxs)(n.p,{children:["Using ",(0,i.jsx)(n.strong,{children:"Colcon"}),", the ROS 2 build tool, we can compile and manage these packages efficiently in a workspace. This chapter guides you through creating, building, and running your first ROS 2 packages."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"42-ros-2-package-structure",children:"4.2 ROS 2 Package Structure"}),"\n",(0,i.jsx)(n.p,{children:"A typical ROS 2 package includes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Source Code"}),": Python or C++ nodes."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Launch Files"}),": For starting nodes and configuring parameters."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configuration Files"}),": YAML or other configuration formats."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"package.xml"}),": Metadata and dependencies for the build system."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Definition:"})," ",(0,i.jsx)(n.em,{children:"ROS 2 Package"}),": A structured directory containing nodes, configuration, and metadata, enabling modular development and reuse."]}),"\n",(0,i.jsx)(n.h2,{id:"43-creating-a-ros-2-package",children:"4.3 Creating a ROS 2 Package:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Create a Workspace"}),":\r\nA workspace is a directory where you can create and manage your ROS 2 packages."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Create a Package"}),":\r\nWe will use the ",(0,i.jsx)(n.code,{children:"ros2 pkg create"})," command to create a new package. Let's create a simple publisher/subscriber package."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd src\r\nros2 pkg create --build-type ament_cmake --node-name my_publisher my_package\r\nros2 pkg create --build-type ament_cmake --node-name my_subscriber my_package\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This will create a new directory called ",(0,i.jsx)(n.code,{children:"my_package"})," with the necessary files and subdirectories."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"44-building-a-ros-2-package",children:"4.4 Building a ROS 2 Package:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Build with Colcon"}),":\r\n",(0,i.jsx)(n.code,{children:"colcon"})," is the build tool for ROS 2. To build our package, we will run ",(0,i.jsx)(n.code,{children:"colcon build"})," from the root of our workspace."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This will build all the packages in the ",(0,i.jsx)(n.code,{children:"src"})," directory and generate the necessary files in the ",(0,i.jsx)(n.code,{children:"build"}),", ",(0,i.jsx)(n.code,{children:"install"}),", and ",(0,i.jsx)(n.code,{children:"log"})," directories."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Source the Workspace"}),":\r\nAfter building the package, we need to source the workspace's setup file to make the executables and other resources available in our environment."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source ~/ros2_ws/install/setup.bash\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"45-running-the-nodes",children:"4.5 Running the Nodes:"}),"\n",(0,i.jsxs)(n.p,{children:["Now we can run our publisher and subscriber nodes using the ",(0,i.jsx)(n.code,{children:"ros2 run"})," command."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run my_package my_publisher\r\nros2 run my_package my_subscriber\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Publisher node sends messages to a topic."}),"\n",(0,i.jsx)(n.li,{children:"Subscriber node receives messages from the same topic."}),"\n",(0,i.jsx)(n.li,{children:"Demonstrates basic ROS 2 communication patterns."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"46-summary",children:"4.6 Summary"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ROS 2 packages modularize code and resources."}),"\n",(0,i.jsx)(n.li,{children:"Workspaces allow multiple packages to be built and managed together."}),"\n",(0,i.jsx)(n.li,{children:"ros2 pkg create generates standard package structures."}),"\n",(0,i.jsx)(n.li,{children:"Colcon builds packages, handling dependencies and creating installable artifacts."}),"\n",(0,i.jsx)(n.li,{children:"Nodes can be executed with ros2 run after sourcing the workspace."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"47-learning-outcomes",children:"4.7 Learning Outcomes"}),"\n",(0,i.jsx)(n.p,{children:"After completing this chapter, students will be able to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create a ROS 2 workspace and understand its directory structure."}),"\n",(0,i.jsx)(n.li,{children:"Generate new ROS 2 packages with ros2 pkg create."}),"\n",(0,i.jsx)(n.li,{children:"Build packages using Colcon and source the workspace."}),"\n",(0,i.jsx)(n.li,{children:"Run publisher and subscriber nodes to test communication in ROS 2."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.p,{children:["[1] M. Quigley et al., \u201cROS: An Open-Source Robot Operating System,\u201d ICRA Workshop on Open Source Software, 2009.\r\n[2] ROS 2 Documentation, \u201cCreating a ROS 2 Package,\u201d ",(0,i.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Creating-A-Workspace.html",children:"https://docs.ros.org/en/humble/Creating-A-Workspace.html"}),"\r\n.\r\n[3] Fox, D., et al. Probabilistic Robotics. MIT Press, 2009."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var r=s(6540);const i={},a=r.createContext(i);function c(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);